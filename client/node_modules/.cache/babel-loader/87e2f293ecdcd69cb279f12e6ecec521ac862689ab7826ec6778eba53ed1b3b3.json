{"ast":null,"code":"var _jsxFileName = \"D:\\\\jadey\\\\Desktop\\\\glory\\\\grDocuments\\\\client\\\\src\\\\components\\\\Input\\\\input.tsx\",\n  _s = $RefreshSig$();\nimport classNames from 'classnames';\nimport React, { useState, useEffect, useRef } from 'react';\nimport InputWrapper from './InputWrapper';\n//import { PaginationContext } from '../Table/table';\n\n//export type InputTypes = \"primary\" | \"default\" | 'danger' | 'link' | \"green\" | 'blue' | 'red'\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Input = props => {\n  _s();\n  const {\n    inline = false,\n    value,\n    type,\n    style,\n    disabled,\n    ...restProps\n  } = props;\n\n  //const context = useContext(PaginationContext)\n  //const [inputValue, setInputValue] = useState(value)\n\n  const inputRef = useRef(null);\n  const [inputValue, setInputValue] = useState(value);\n  const adjustWidth = () => {\n    if (inputRef.current && inline) {\n      inputRef.current.style.width = `${inputRef.current.value.length + 1 + 3}ch`;\n    }\n  };\n  useEffect(() => {\n    adjustWidth();\n  }, [inputValue]);\n  const classes = classNames('gr-input', {\n    [`input-${type}`]: type,\n    'disabled': disabled\n  });\n  if (type === 'checkbox') {\n    return /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"checkbox-container\",\n      tabIndex: 1,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: type,\n        className: classes,\n        ref: inputRef,\n        value: inputValue,\n        disabled: disabled,\n        style: {\n          ...{\n            minWidth: '20px'\n          },\n          ...style\n        },\n        ...restProps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"checkbox-background\",\n        tabIndex: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this);\n  } else if (type === 'radio') {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        className: classes,\n        id: \"__gr-radio\",\n        hidden: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"__gr-radio\",\n        className: \"radio-label\",\n        tabIndex: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  } else if (type === 'search') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        ...{\n          display: 'inline-block',\n          verticalAlign: 'middle'\n        },\n        ...style\n      },\n      children: /*#__PURE__*/_jsxDEV(InputWrapper, {\n        icon: 'search',\n        isShowClear: true,\n        inputValue: inputValue,\n        onClear: () => {\n          setInputValue('');\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          ref: inputRef,\n          className: classes,\n          style: {\n            minWidth: 'none'\n          },\n          value: inputValue,\n          placeholder: \"\\u8FC7\\u6EE4\\u9009\\u9879\",\n          ...restProps,\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"input\", {\n      type: type,\n      className: classes,\n      ref: inputRef,\n      value: inputValue,\n      disabled: disabled,\n      style: {\n        ...{\n          minWidth: '20px'\n        },\n        ...style\n      },\n      ...restProps\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this);\n  }\n};\n_s(Input, \"jztOWES8G7JbhsN6vVcWRIo0CIM=\");\n_c = Input;\nexport default Input;\nvar _c;\n$RefreshReg$(_c, \"Input\");","map":{"version":3,"names":["classNames","React","useState","useEffect","useRef","InputWrapper","jsxDEV","_jsxDEV","Fragment","_Fragment","Input","props","_s","inline","value","type","style","disabled","restProps","inputRef","inputValue","setInputValue","adjustWidth","current","width","length","classes","className","tabIndex","children","ref","minWidth","fileName","_jsxFileName","lineNumber","columnNumber","id","hidden","htmlFor","display","verticalAlign","icon","isShowClear","onClear","placeholder","autoComplete","_c","$RefreshReg$"],"sources":["D:/jadey/Desktop/glory/grDocuments/client/src/components/Input/input.tsx"],"sourcesContent":["import classNames from 'classnames';\r\nimport React, { useState, useEffect, useRef, useContext, InputHTMLAttributes, AnchorHTMLAttributes } from 'react';\r\nimport InputWrapper from './InputWrapper';\r\n//import { PaginationContext } from '../Table/table';\r\n\r\nexport interface InputProps{\r\n    inline?:boolean,\r\n    value?:string,\r\n    style ?: React.CSSProperties;\r\n    type?:React.HTMLInputTypeAttribute;\r\n}\r\n//export type InputTypes = \"primary\" | \"default\" | 'danger' | 'link' | \"green\" | 'blue' | 'red'\r\ntype NativeButtonProps = InputProps & InputHTMLAttributes<HTMLElement>\r\ntype AnchorButtonProps = InputProps & AnchorHTMLAttributes<HTMLElement>\r\nexport type _InputProps = Partial<NativeButtonProps & AnchorButtonProps>\r\nconst Input:React.FC<_InputProps> = (props) => {\r\n    const {\r\n        inline=false,value,type,style,disabled,...restProps} = props\r\n    \r\n    //const context = useContext(PaginationContext)\r\n    //const [inputValue, setInputValue] = useState(value)\r\n    \r\n    const inputRef = useRef<HTMLInputElement>(null)\r\n    const [inputValue, setInputValue] = useState(value);\r\n    const adjustWidth = () => {\r\n        if (inputRef.current && inline){\r\n            inputRef.current.style.width = `${inputRef.current.value.length + 1 + 3}ch`\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        adjustWidth()\r\n    },[inputValue])\r\n\r\n\r\n    const classes = classNames('gr-input',{\r\n        [`input-${type}`]: type,\r\n        'disabled': disabled\r\n    })\r\n    if(type==='checkbox'){\r\n        return (\r\n            <label className=\"checkbox-container\" tabIndex={1}>\r\n                <input \r\n                    type={type} className={classes}\r\n                    ref={inputRef}\r\n                    value={inputValue} \r\n                    disabled={disabled}\r\n                    style={{...{minWidth: '20px'},...style}}\r\n                    {...restProps}\r\n                />\r\n                <span className=\"checkbox-background\" tabIndex={1}></span>\r\n            </label>\r\n        )\r\n    }else if(type==='radio'){\r\n        return(\r\n            <>\r\n                <input type=\"radio\" className={classes} id=\"__gr-radio\" hidden />\r\n                <label htmlFor=\"__gr-radio\" className=\"radio-label\" tabIndex={1}></label>\r\n            </>\r\n        )\r\n    }else if(type==='search'){\r\n        return(\r\n            <div style={{...{display:'inline-block',verticalAlign: 'middle'},...style}}>\r\n\r\n            <InputWrapper icon={'search'} isShowClear={true} inputValue={inputValue} onClear={()=>{ setInputValue('') }}>\r\n                <input\r\n                    type=\"text\"\r\n                    ref={inputRef}\r\n                    className={classes}\r\n                    style={{minWidth:'none'}}\r\n                    value={inputValue}\r\n                    placeholder='过滤选项'\r\n                    {...restProps}\r\n                    autoComplete=\"off\" />\r\n            </InputWrapper>\r\n            </div>\r\n        )\r\n    }else{\r\n\r\n        return (\r\n            \r\n            <input \r\n                type={type} className={classes}\r\n                ref={inputRef}\r\n                value={inputValue} \r\n                disabled={disabled}\r\n                style={{...{minWidth: '20px'},...style}}\r\n                {...restProps}\r\n            />\r\n                \r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default Input"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}